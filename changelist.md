## Список изменений версии 1.1.5
# ДОБАВЛЕНО
- Добавлена возможность переключиться на *mail()*
- Добавлена обработчик фатальных ошибок. Теперь, если СБ упадёт внезапно на каком-либо этапе сборки страницы, он выведет страницу с причиной ошибки и стак трейсом (очерёдность вызовов с аргументами к функциям).
- Добавлено два новых МОДа на движке Source.
- Добавлена возможность редактировать боковое меню.
- ~~Добавлен репозиторий МОДов. Теперь SourceBans поставляется по умолчанию без МОДов, но их можно скачать и установить через веб-интерфейс в пару щелчков. Вместе с именем игры и т.д., скачается иконка и изображения карт.~~ Перенесено на 1.1.6 по причине недособранности репозитория в плане изображений карт. Кто желает помочь - Вам [сюда](https://github.com/CrazyHackGUT/SB_Material_Design/issues/32#issuecomment-268085583).
- Добавлена возможность включать и отключать счётчик кол-ва запросов и время сборки страницы в "подвале".
- ~~Добавлен автодонат. Он поддерживает других провайдеров, кроме Фрикассы. Для этого, ознакомьтесь с файлом */includes/pay_services/freekassa.php* и напишите по нему провайдера для своего платёжного провайдера.~~ Перенесено на 1.1.6 по некоторым причинам: Изменена полностью концепция задумки автодоната. Однако файлы, связанные с ним, оставлены.
- Добавлена сборка статистики установленных копий SourceBans. В число собираемых данных входят только ссылка на SourceBans и SteamID главного администратора.
- В архив добавлена бета версия новой серверной части. Чтобы перевести веб-панель в режим совместимости с ней, необходимо отключить опцию "Совместимость с оригинальной серверной частью SourceBans" в настройках.

# ОБНОВЛЕНО
- Перемещена настройка **SMTP** в веб-часть.
- Обновлены иконки. Автор [Dreizehnt](https://github.com/Dreizehnt).
- Расширено поле добавления комментария к бану и муту.
- Обновлен класс работы с сервером. Заменены все стандартные классы на класс от xPaw. В итоге получен прирост производительности.
- Обновлена верстка в режиме разработчика.
- Обновлена база **GeoIP**.
- Обновлены ссылки в "подвале".
- Обновлена система кеширования аватарок. Теперь SourceBans делает один запрос и сохраняет все аватары в ОЗУ сервера на время выполнения запроса браузера.
- Теперь доступ к функциям управления игроками на сервере регулируется наличием доступа к серверу.
- Шаблон был доработан. Осталась лишь малая крупица не свёрстанных страниц. Хотите помочь - посмотрите [здесь](https://github.com/CrazyHackGUT/SB_Material_Design/blob/master/TODO.md#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA-%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86-%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5-%D1%82%D1%80%D0%B5%D0%B1%D1%83%D1%8E%D1%82-%D0%B2%D1%91%D1%80%D1%81%D1%82%D0%BA%D1%83), что осталось.
- Обновлён */includes/sb-callback.php*. Вырезаны неиспользуемые функции.
- Отремонтирована проверка последней версии SourceBans.
- Снижена минимальная требуемая версия PHP с *5.5* до *5.4*

# УДАЛЕНО
- Очищен дистрибутив **ADOdb** от неиспользуемых файлов.

# ИСПРАВЛЕНО
- Исправлена ошибка, когда в банлисте и мутах висела иконка существующих комментариев и *Warning* в самих комментах, если комментариев как таковых нет.
- Исправлена ошибка пагинатора, когда при попытке открыть другую страницу с истёкшими админами, открывалась страница с неистёкшими админами.
- Исправлен эксплойт, позволяющий произвести XSS-атаку через страницу "Забыли пароль?"
- Исправлена ошибка, когда картинку карты из *Steam Workshop* SourceBans продолжал пытаться искать по пути */images/maps/workshop/...*
